import{z as R,q as z,aQ as b,aT as X,b4 as O,r as F,O as p,aU as G,b7 as H,b8 as J,B as m,w as r,b5 as K,aR as k,aS as W,b6 as Y,h as i,e as s,aX as Z,d as _,E as e,aV as tt,f as c,aw as et,au as at,ai as ot,c as st,t as f,aP as nt,D as ct,as as rt}from"./ONB1Lk2s.js";import{_ as it}from"./DZUd7qd0.js";import{m as lt,f as ut,_ as mt,a as _t,b as dt}from"./Jj-DRzR5.js";import"./DaJ60eWa.js";import"./BcoM21Dg.js";const pt={class:"flex flex-col gap-3 mt-8"},ft={class:"flex text-xs text-muted items-center justify-center gap-2"},xt={key:0},ht={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},vt={class:"text-muted text-center max-w-2xl mx-auto"},gt={class:"flex items-center justify-center gap-2 mt-2"},yt={class:"flex items-center justify-end gap-2 text-sm text-muted mt-8"},Bt=R({__name:"[...slug]",async setup(jt){var v,g,y,j,w,C;let a,l;const u=z(),{data:t}=([a,l]=b(()=>k(u.path,()=>W("projects").path(u.path).first(),"$cAjQnkX-Qf")),a=await a,l(),a);if(!t.value)throw X({statusCode:404,statusMessage:"Project not found",fatal:!0});const{data:$}=([a,l]=b(()=>k(`${u.path}-surround`,()=>Y("projects",u.path,{fields:["title"]}))),a=await a,l(),a),U=O("navigation",F([])),d=p(()=>{var n;return((n=U.value.find(o=>o.path==="/projects"))==null?void 0:n.children)||[]});p(()=>lt(ut(d==null?void 0:d.value,t.value)).map(({icon:n,...o})=>o)),t.value.image;const x=((g=(v=t.value)==null?void 0:v.seo)==null?void 0:g.title)||((y=t.value)==null?void 0:y.title),h=((w=(j=t.value)==null?void 0:j.seo)==null?void 0:w.description)||((C=t.value)==null?void 0:C.description);G({title:x,description:h,ogDescription:h,ogTitle:x});const B=p(()=>typeof window<"u"?window.location.href:"");function P(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}H();const{copyToClipboard:D}=J();return(n,o)=>{const S=ot,N=et,T=nt,V=it,I=_t,q=rt,A=dt,E=mt,L=tt,M=Z,Q=K;return i(),m(Q,{class:"mt-20 px-2"},{default:r(()=>[s(M,{class:"relative min-h-screen"},{default:r(()=>[e(t)?(i(),m(L,{key:0},{default:r(()=>[s(N,{to:"/projects",class:"text-sm flex items-center gap-1"},{default:r(()=>[s(S,{name:"lucide:chevron-left"}),o[1]||(o[1]=at(" Projects "))]),_:1,__:[1]}),c("div",pt,[c("div",ft,[e(t).date?(i(),st("span",xt,f(P(e(t).date)),1)):_("",!0)]),s(T,{src:e(t).image,alt:e(t).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),c("h1",ht,f(e(t).title),1),c("p",vt,f(e(t).description),1),c("div",gt,[e(t).author?(i(),m(V,ct({key:0,orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},e(t).author),null,16)):_("",!0)])]),s(E,{class:"max-w-3xl mx-auto"},{default:r(()=>[e(t).body?(i(),m(I,{key:0,value:e(t)},null,8,["value"])):_("",!0),c("div",yt,[s(q,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:o[0]||(o[0]=wt=>e(D)(e(B),"Project link copied to clipboard"))})]),s(A,{surround:e($)},null,8,["surround"])]),_:1})]),_:1})):_("",!0)]),_:1})]),_:1})}}});export{Bt as default};
