import{z as O,q as Q,aQ as $,aT as X,b4 as G,r as H,O as v,aU as J,B as d,w as u,b5 as K,aR as B,aS as W,b6 as Y,h as n,e as i,aX as Z,d as o,E as e,aV as tt,f as r,aw as et,au as at,ai as nt,c as l,t as _,b2 as ot,aP as st,D as ct,as as it}from"./fWDF6ge8.js";import{_ as rt}from"./O-Su2p9q.js";import{m as lt,f as ut,_ as _t,a as mt,b as dt}from"./DioA3mRu.js";import"./Wfz2gPlv.js";import"./BcoM21Dg.js";const pt={class:"flex flex-col gap-3 mt-8"},ft={class:"flex text-xs text-muted items-center justify-center gap-2"},xt={key:0},vt={key:1},yt={key:2},ht={key:3},gt={key:4},kt={key:5},wt={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},bt={class:"text-muted text-center max-w-2xl mx-auto"},Ct={class:"flex items-center justify-center gap-2 mt-2"},Ut={class:"flex items-center justify-end gap-2 text-sm text-muted mt-8"},Pt=O({__name:"[...slug]",async setup($t){var g,k,w,b,C,U;let s,m;const p=Q(),{data:t}=([s,m]=$(()=>B("event",()=>W("events").path(p.path).first())),s=await s,m(),s);if(!t.value)throw X({statusCode:404,statusMessage:"Event not found",fatal:!0});const{data:j}=([s,m]=$(()=>B(`${p.path}-surround`,()=>Y("events",p.path,{fields:["title"]}))),s=await s,m(),s),D=G("navigation",H([])),f=v(()=>{var c;return((c=D.value.find(a=>a.path==="/events"))==null?void 0:c.children)||[]});v(()=>lt(ut(f==null?void 0:f.value,t.value)).map(({icon:c,...a})=>a)),t.value.image;const y=((k=(g=t.value)==null?void 0:g.seo)==null?void 0:k.title)||((w=t.value)==null?void 0:w.title),h=((C=(b=t.value)==null?void 0:b.seo)==null?void 0:C.description)||((U=t.value)==null?void 0:U.description);J({title:y,description:h,ogDescription:h,ogTitle:y});const S=v(()=>typeof window<"u"?window.location.href:"");function E(c){return new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}async function N(c,a){if(navigator.clipboard)try{await navigator.clipboard.writeText(c),console.log(a)}catch(x){console.error("Failed to copy: ",x)}}return(c,a)=>{const x=nt,P=et,T=ot,V=st,I=rt,q=mt,L=it,M=dt,R=_t,z=tt,A=Z,F=K;return n(),d(F,{class:"mt-20 px-2"},{default:u(()=>[i(A,{class:"relative min-h-screen"},{default:u(()=>[e(t)?(n(),d(z,{key:0},{default:u(()=>[i(P,{to:"/events",class:"text-sm flex items-center gap-1"},{default:u(()=>[i(x,{name:"lucide:chevron-left"}),a[1]||(a[1]=at(" Events "))]),_:1,__:[1]}),r("div",pt,[r("div",ft,[e(t).date?(n(),l("span",xt,_(E(e(t).date)),1)):o("",!0),e(t).date&&e(t).time?(n(),l("span",vt," - ")):o("",!0),e(t).time?(n(),l("span",yt,_(e(t).time),1)):o("",!0),(e(t).date||e(t).time)&&e(t).location?(n(),l("span",ht," - ")):o("",!0),e(t).location?(n(),l("span",gt,_(e(t).location),1)):o("",!0),e(t).status?(n(),l("span",kt,[i(T,{label:e(t).status,color:"primary"},null,8,["label"])])):o("",!0)]),i(V,{src:e(t).image,alt:e(t).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),r("h1",wt,_(e(t).title),1),r("p",bt,_(e(t).description),1),r("div",Ct,[e(t).author?(n(),d(I,ct({key:0,orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},e(t).author),null,16)):o("",!0)])]),i(R,{class:"max-w-3xl mx-auto"},{default:u(()=>[e(t).body?(n(),d(q,{key:0,value:e(t)},null,8,["value"])):o("",!0),r("div",Ut,[i(L,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:a[0]||(a[0]=Bt=>N(e(S),"Event link copied to clipboard"))})]),i(M,{surround:e(j)},null,8,["surround"])]),_:1})]),_:1})):o("",!0)]),_:1})]),_:1})}}});export{Pt as default};
